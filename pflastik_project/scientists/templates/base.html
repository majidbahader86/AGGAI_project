{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}AGGAI{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'scientists/css/sidebar.css' %}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    {% block extra_css %}{% endblock %}
</head>
<body>
    <aside class="sidebar" id="sidebar">
        <button class="toggle-btn" id="toggleBtn">
            <i class="fas fa-chevron-circle-left"></i>
        </button>
        <div class="user-info">
            <img src="https://cdn11.bigcommerce.com/s-99si0d/images/stencil/400x400/products/5985/45752/Blue-Lotus-Amber-Fragrance-Oil__43308.1439328649.jpg" alt="." width="50" height="50" class="avatar">
            <span>Dr. Elnamaki</span>
        </div>
        <nav>
            <ul class="nav-links">
                <li><a href="{% url 'scientist_dashboard' %}" id="dashboard-link"><i class="fas fa-tachometer-alt"></i> <span>Dashboard</span></a></li>
                <li><a href="{% url 'scientist_my_plants' %}" id="my-plants-link"><i class="fas fa-seedling"></i> <span>My Plants</span></a></li>
                <li><a href="{% url 'scientist_experiments' %}" id="experiments-link"><i class="fas fa-flask"></i> <span>Experiments</span></a></li>
                <li><a href="{% url 'scientist_publications' %}" id="publications-link"><i class="fas fa-book"></i> <span>Publications</span></a></li>
                <li><a href="{% url 'scientist_blockchain' %}" id="blockchain-link"><i class="fas fa-link"></i> <span>Blockchain</span></a></li>
                <li><a href="{% url 'scientist_ai_framework' %}" id="ai-framework-link"><i class="fas fa-brain"></i> <span>AI Framework</span></a></li>
                <li><a href="{% url 'scientist_report_form' %}" id="tutorials-link"><i class="fas fa-chalkboard-teacher"></i> <span>Reports</span></a></li>
                <li><a href="{% url 'scientist_settings' %}" id="settings-link"><i class="fas fa-cog"></i> <span>Settings</span></a></li>
                <li><a href="{% url 'scientist_docs' %}" id="docs-link"><i class="fas fa-code"></i> <span>Documentation</span></a></li>
            </ul>
        </nav>
        <div class="quick-stats">
            <div class="stat">
                <i class="fas fa-leaf"></i>
                <span>42 Plants</span>
            </div>
            <div class="stat">
                <i class="fas fa-vial"></i>
                <span>7 Experiments</span>
            </div>
            <div class="stat">
                <i class="fas fa-link"></i>
                <span>3 Blockchain Data</span>
            </div>
            <div class="stat">
                <i class="fas fa-brain"></i>
                <span>2 AI Models</span>
            </div>
        </div>
        <div class="sidebar-footer">
            <a href="#help"><i class="fas fa-question-circle"></i> Help</a>
            <a href="#logout"><i class="fas fa-sign-out-alt"></i> Logout</a>
        </div>
    </aside>

    <div class="main-content">
        {% block content %}
        {% endblock %}
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const sidebar = document.getElementById('sidebar');
            const toggleBtn = document.getElementById('toggleBtn');
            
            function toggleSidebar() {
                sidebar.classList.toggle('collapsed');
                localStorage.setItem('sidebarState', sidebar.classList.contains('collapsed') ? 'collapsed' : 'expanded');
            }
            
            toggleBtn.addEventListener('click', toggleSidebar);

            // Apply saved sidebar state on load
            const savedSidebarState = localStorage.getItem('sidebarState');
            if (savedSidebarState === 'collapsed') {
                sidebar.classList.add('collapsed');
            }

            // JavaScript to handle active link highlighting
            const path = window.location.pathname;
            const links = document.querySelectorAll('.nav-links a');

            links.forEach(link => {
                if (link.getAttribute('href') === path) {
                    link.classList.add('active');
                } else {
                    link.classList.remove('active');
                }
            });
        });
    </script>

    <script src="{% static 'scientists/js/script.js' %}"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>
